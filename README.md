# Emoji 虚拟人桌面助手

一个极简但功能完整的桌面Emoji虚拟人助手，具备桌面浮动、对话交互、情绪检测等功能。

## 功能特性

- 🎭 **桌面浮动Emoji虚拟人** - 可爱的emoji表情，可拖拽移动
- 💬 **气泡对话显示** - 点击emoji显示对话气泡
- 🤖 **AI智能回复** - 集成OpenAI API生成智能回复
- ⌨️ **键盘情绪检测** - 实时监听键盘输入，检测情绪关键词
- 😊 **表情动态变化** - 根据情绪自动切换emoji表情
- 🎯 **极简设计** - 简洁美观的用户界面

## 安装运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置API密钥（可选）

复制 `env_example.txt` 为 `.env` 文件，并填入你的OpenAI API密钥：

```bash
cp env_example.txt .env
```

编辑 `.env` 文件：
```
OPENAI_API_KEY=your_openai_api_key_here
```

**注意**：如果不配置API密钥，程序会使用预设的默认回复。

### 3. 运行程序

```bash
python emoji_assistant.py
```

## 使用说明

### 基本操作
- **点击emoji** - 显示/隐藏对话气泡
- **拖拽emoji** - 移动助手位置
- **右键点击** - 打开菜单选项

### 对话功能
- 在气泡中输入文字并按回车或点击发送
- 程序会调用AI服务生成回复
- 支持情绪关键词检测和相应回复

### 键盘监听
- 程序会自动监听键盘输入
- 检测到情绪关键词时会自动反应
- 可通过右键菜单开启/关闭监听

## 情绪关键词

程序会检测以下情绪关键词：

- **开心**: 开心、高兴、快乐、😊、😄、😃、😁
- **难过**: 难过、伤心、悲伤、😢、😭、😔、😞
- **生气**: 生气、愤怒、恼火、😠、😡、😤、💢
- **惊讶**: 惊讶、震惊、意外、😲、😱、😨、😰
- **疲惫**: 疲惫、累、困、😴、😪、😵、💤

## 项目结构

```
emoji_ai/
├── emoji_assistant.py    # 主程序
├── ai_service.py         # AI服务模块
├── keyboard_monitor.py   # 键盘监听模块
├── config.py            # 配置文件
├── requirements.txt     # 依赖包
├── env_example.txt      # 环境变量示例
├── README.md           # 说明文档
└── Design Goals.md     # 设计目标
```

## 技术栈

- **Python 3.7+** - 主要编程语言
- **Tkinter** - GUI界面框架
- **OpenAI API** - AI对话服务
- **keyboard** - 键盘监听库
- **threading** - 多线程处理

## 开发计划

### 第一阶段 ✅
- [x] 桌面浮动Emoji虚拟人
- [x] 基本气泡对话显示
- [x] 点击互动触发对话输入
- [x] 简单集成大模型生成回复
- [x] 感知用户键盘输入（情绪关键词检测）

### 未来计划
- [ ] 语音识别和语音合成
- [ ] 更多表情动画效果
- [ ] 自定义主题和样式
- [ ] 插件系统支持
- [ ] 多语言支持

## 注意事项

1. **权限要求**: 键盘监听功能需要系统权限，首次运行可能需要授权
2. **API费用**: 使用OpenAI API会产生费用，请注意控制使用量
3. **隐私保护**: 键盘监听仅检测情绪关键词，不会记录完整文本
4. **系统兼容**: 目前主要支持macOS和Windows系统

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！ 